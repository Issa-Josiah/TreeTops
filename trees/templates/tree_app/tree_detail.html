{% extends 'home.html' %}

{% block title %}{{ tree.name }}{% endblock %}

{% block content %}
<div class="container mt-5">

    <!-- Tree Card -->
    <div class="card shadow-lg rounded-4 p-4 mb-5">
        <!-- Tree Image -->
        <img src="{{ tree.image.url }}" class="card-img-top rounded mb-4" alt="{{ tree.name }}" style="max-height:400px; object-fit:cover;">

        <!-- Tree Info -->
        <div class="card-body">
            <h2 class="card-title fw-bold mb-3">{{ tree.name }}</h2>
            <p class="card-text mb-3">{{ tree.description }}</p>

            <ul class="list-group list-group-flush mb-4">
                <li class="list-group-item"><strong>Location:</strong> {{ tree.location }}</li>
                <li class="list-group-item"><strong>Price:</strong> {% if tree.price %}KES {{ tree.price }}{% else %}-{% endif %}</li>
            </ul>

            <!-- Buy Button -->
            <a href="{% url 'payment' %}" class="btn btn-success btn-lg w-100 mb-4 fs-4 fw-5">
                 Buy This Tree
            </a>

            <!-- Action Buttons -->
            <div class="d-flex flex-wrap gap-2 justify-content-center">
                {% if user == tree.owner %}
                    <a href="{% url 'edit_tree' tree.id %}" class="btn btn-primary">Edit</a>
                    <a href="{% url 'delete_tree' tree.id %}" class="btn btn-danger">Delete</a>
                {% endif %}
                {% if user.is_staff %}
                    <a href="{% url 'admin_edit_tree' tree.id %}" class="btn btn-warning">Admin Edit</a>
                {% endif %}
            </div>
        </div>
    </div>

</div>
{% endblock %}
